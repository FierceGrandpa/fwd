import { useState } from 'react';

import Link from 'next/link';

import Layout from 'components/Layout';

import { Container, Row } from 'components/UI';
import { site } from '../../data';

const links = [
  {
    id: 1,
    caption: 'Статьи',
    href: 'articles',
    icon: (
      <svg viewBox="0 0 24 24">
        <path d="m16.81 13h-12.06c-.414 0-.75-.336-.75-.75v-4.5c0-.414.336-.75.75-.75h14.5c.414 0 .75.336.75.75v2.25c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.5h-13v3h11.31c.414 0 .75.336.75.75s-.336.75-.75.75z"/>
        <path d="m13.82 15.99h-9.02c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h9.02c.414 0 .75.336.75.75s-.336.75-.75.75z"/>
        <path d="m10.84 18.99h-6.04c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h6.04c.414 0 .75.336.75.75s-.336.75-.75.75z"/>
        <path d="m12.527 24c-.197 0-.389-.078-.53-.22-.173-.173-.251-.419-.208-.661l.53-3.005c.027-.151.1-.291.208-.4l7.425-7.424c.316-.316.651-.513.996-.585.477-.1.939.045 1.302.409l1.237 1.237c.682.682.682 1.792 0 2.475l-7.424 7.425c-.109.109-.249.182-.4.208l-3.005.53c-.044.007-.087.011-.131.011zm3.006-1.28h.01zm-1.778-2.112-.303 1.717 1.717-.303 7.257-7.258c.097-.098.097-.256 0-.354l-1.228-1.228c-.01.019-.085.067-.186.167z"/>
        <path d="m9.83 22h-7.08c-1.517 0-2.75-1.233-2.75-2.75v-16.5c0-1.517 1.233-2.75 2.75-2.75h18.5c1.517 0 2.75 1.233 2.75 2.75v7.29c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-7.29c0-.689-.561-1.25-1.25-1.25h-18.5c-.689 0-1.25.561-1.25 1.25v16.5c0 .689.561 1.25 1.25 1.25h7.08c.414 0 .75.336.75.75s-.336.75-.75.75z"/>
        <path d="m23.25 5h-22.5c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h22.5c.414 0 .75.336.75.75s-.336.75-.75.75z"/>
      </svg>
    ),
  },
  {
    id: 2,
    caption: 'Марки машин',
    href: 'marks',
    icon: (
      <svg viewBox="0 0 48.997 48.998" >
        <path d="M45.961,18.702c-0.033-0.038-0.061-0.075-0.1-0.112l-1.717-1.657c1.424-0.323,2.957-1.516,2.957-2.74   c0-1.426-1.979-1.932-3.668-1.932c-1.766,0-1.971,1.21-1.992,2.065l-4.43-4.271c-0.9-0.891-2.607-1.592-3.883-1.592H24.5h-0.002   h-8.63c-1.275,0-2.981,0.701-3.882,1.592l-4.429,4.271c-0.023-0.855-0.228-2.065-1.992-2.065c-1.691,0-3.669,0.506-3.669,1.932   c0,1.224,1.534,2.417,2.958,2.74l-1.717,1.657c-0.039,0.037-0.066,0.074-0.1,0.112C1.2,20.272,0,23.184,0,25.297v6.279   c0,1.524,0.601,2.907,1.572,3.938v2.435c0,1.424,1.192,2.585,2.658,2.585h3.214c1.466,0,2.657-1.159,2.657-2.585v-0.623h14.397   H24.5h14.396v0.623c0,1.426,1.19,2.585,2.658,2.585h3.213c1.467,0,2.657-1.161,2.657-2.585v-2.435   c0.972-1.031,1.572-2.414,1.572-3.938v-6.279C48.998,23.184,47.798,20.272,45.961,18.702z M13.613,11.953   c0.623-0.519,1.712-0.913,2.255-0.913h8.63H24.5h8.63c0.543,0,1.632,0.394,2.255,0.913l5.809,5.63H24.5h-0.002H7.805L13.613,11.953   z M1.993,24.347c0-1.546,1.21-2.801,2.704-2.801c1.493,0,6.372,2.864,6.372,4.41s-4.879,1.188-6.372,1.188   C3.203,27.144,1.993,25.894,1.993,24.347z M10.102,34.573H9.587H9.072l-3.055,0.005c-0.848-0.264-1.446-0.572-1.869-0.903   c-0.214-0.167-0.378-0.341-0.506-0.514c-0.129-0.175-0.223-0.347-0.284-0.519c-0.38-1.074,0.405-2.061,0.405-2.061h5.214   l3.476,3.99L10.102,34.573L10.102,34.573z M31.996,34.575H24.5h-0.002h-7.496c-1.563,0-2.832-1.269-2.832-2.831h10.328H24.5h10.328   C34.828,33.308,33.559,34.575,31.996,34.575z M32.654,29.812H24.5h-0.002h-8.154c-1.7,0-3.08-2.096-3.08-4.681h11.234H24.5h11.234   C35.734,27.717,34.354,29.812,32.654,29.812z M45.641,32.644c-0.062,0.172-0.156,0.344-0.285,0.518   c-0.127,0.173-0.291,0.347-0.506,0.514c-0.422,0.331-1.021,0.641-1.869,0.903l-3.055-0.005h-0.515h-0.515h-2.353l3.478-3.99h5.213   C45.234,30.583,46.02,31.568,45.641,32.644z M44.301,27.144c-1.492,0-6.371,0.356-6.371-1.188s4.879-4.41,6.371-4.41   c1.494,0,2.704,1.255,2.704,2.801C47.005,25.892,45.795,27.144,44.301,27.144z"/>
      </svg>
    ),
  },
  {
    id: 3,
    caption: 'Услуги',
    href: 'services',
    icon: (
      <svg viewBox="0 0 480 480">
        <path d="M472,432h-24V280c-0.003-4.418-3.588-7.997-8.006-7.994c-2.607,0.002-5.05,1.274-6.546,3.41l-112,160     c-2.532,3.621-1.649,8.609,1.972,11.14c1.343,0.939,2.941,1.443,4.58,1.444h104v24c0,4.418,3.582,8,8,8s8-3.582,8-8v-24h24     c4.418,0,8-3.582,8-8S476.418,432,472,432z M432,432h-88.64L432,305.376V432z"/>
        <path d="M328,464h-94.712l88.056-103.688c0.2-0.238,0.387-0.486,0.56-0.744c16.566-24.518,11.048-57.713-12.56-75.552     c-28.705-20.625-68.695-14.074-89.319,14.631C212.204,309.532,207.998,322.597,208,336c0,4.418,3.582,8,8,8s8-3.582,8-8     c-0.003-26.51,21.486-48.002,47.995-48.005c10.048-0.001,19.843,3.151,28.005,9.013c16.537,12.671,20.388,36.007,8.8,53.32     l-98.896,116.496c-2.859,3.369-2.445,8.417,0.924,11.276c1.445,1.226,3.277,1.899,5.172,1.9h112c4.418,0,8-3.582,8-8     S332.418,464,328,464z"/>
        <path d="M216.176,424.152c0.167-4.415-3.278-8.129-7.693-8.296c-0.001,0-0.002,0-0.003,0     C104.11,411.982,20.341,328.363,16.28,224H48c4.418,0,8-3.582,8-8s-3.582-8-8-8H16.28C20.283,103.821,103.82,20.287,208,16.288     V40c0,4.418,3.582,8,8,8s8-3.582,8-8V16.288c102.754,3.974,185.686,85.34,191.616,188l-31.2-31.2     c-3.178-3.07-8.242-2.982-11.312,0.196c-2.994,3.1-2.994,8.015,0,11.116l44.656,44.656c0.841,1.018,1.925,1.807,3.152,2.296     c0.313,0.094,0.631,0.172,0.952,0.232c0.549,0.198,1.117,0.335,1.696,0.408c0.08,0,0.152,0,0.232,0c0.08,0,0.152,0,0.224,0     c0.609-0.046,1.211-0.164,1.792-0.352c0.329-0.04,0.655-0.101,0.976-0.184c1.083-0.385,2.069-1.002,2.888-1.808l45.264-45.248     c3.069-3.178,2.982-8.242-0.196-11.312c-3.1-2.994-8.015-2.994-11.116,0l-31.976,31.952     C425.933,90.37,331.38,0.281,216.568,0.112C216.368,0.104,216.2,0,216,0s-0.368,0.104-0.568,0.112     C96.582,0.275,0.275,96.582,0.112,215.432C0.112,215.632,0,215.8,0,216s0.104,0.368,0.112,0.568     c0.199,115.917,91.939,210.97,207.776,215.28h0.296C212.483,431.847,216.013,428.448,216.176,424.152z"/>
        <path d="M323.48,108.52c-3.124-3.123-8.188-3.123-11.312,0L226.2,194.48c-6.495-2.896-13.914-2.896-20.408,0l-40.704-40.704     c-3.178-3.069-8.243-2.981-11.312,0.197c-2.994,3.1-2.994,8.015,0,11.115l40.624,40.624c-5.704,11.94-0.648,26.244,11.293,31.947     c9.165,4.378,20.095,2.501,27.275-4.683c7.219-7.158,9.078-18.118,4.624-27.256l85.888-85.888     C326.603,116.708,326.603,111.644,323.48,108.52z M221.658,221.654c-0.001,0.001-0.001,0.001-0.002,0.002     c-3.164,3.025-8.148,3.025-11.312,0c-3.125-3.124-3.125-8.189-0.002-11.314c3.124-3.125,8.189-3.125,11.314-0.002     C224.781,213.464,224.781,218.53,221.658,221.654z"/>
      </svg>
    ),
  }, /*

  {
    id: 4,
    caption: 'Компания',
    href: 'company',
    icon: (
      <svg viewBox="0 0 231.233 231.233" >
        <path d="M230.505,102.78c-0.365-3.25-4.156-5.695-7.434-5.695c-10.594,0-19.996-6.218-23.939-15.842  c-4.025-9.855-1.428-21.346,6.465-28.587c2.486-2.273,2.789-6.079,0.705-8.721c-5.424-6.886-11.586-13.107-18.316-18.498  c-2.633-2.112-6.502-1.818-8.787,0.711c-6.891,7.632-19.27,10.468-28.836,6.477c-9.951-4.187-16.232-14.274-15.615-25.101  c0.203-3.403-2.285-6.36-5.676-6.755c-8.637-1-17.35-1.029-26.012-0.068c-3.348,0.37-5.834,3.257-5.723,6.617  c0.375,10.721-5.977,20.63-15.832,24.667c-9.451,3.861-21.744,1.046-28.621-6.519c-2.273-2.492-6.074-2.798-8.725-0.731  c-6.928,5.437-13.229,11.662-18.703,18.492c-2.133,2.655-1.818,6.503,0.689,8.784c8.049,7.289,10.644,18.879,6.465,28.849  c-3.99,9.505-13.859,15.628-25.156,15.628c-3.666-0.118-6.275,2.345-6.68,5.679c-1.016,8.683-1.027,17.535-0.049,26.289  c0.365,3.264,4.268,5.688,7.582,5.688c10.07-0.256,19.732,5.974,23.791,15.841c4.039,9.855,1.439,21.341-6.467,28.592  c-2.473,2.273-2.789,6.07-0.701,8.709c5.369,6.843,11.537,13.068,18.287,18.505c2.65,2.134,6.504,1.835,8.801-0.697  c6.918-7.65,19.295-10.481,28.822-6.482c9.98,4.176,16.258,14.262,15.645,25.092c-0.201,3.403,2.293,6.369,5.672,6.755  c4.42,0.517,8.863,0.773,13.32,0.773c4.23,0,8.461-0.231,12.692-0.702c3.352-0.37,5.834-3.26,5.721-6.621  c-0.387-10.716,5.979-20.626,15.822-24.655c9.514-3.886,21.752-1.042,28.633,6.512c2.285,2.487,6.063,2.789,8.725,0.73  c6.916-5.423,13.205-11.645,18.703-18.493c2.135-2.65,1.832-6.503-0.689-8.788c-8.047-7.284-10.656-18.879-6.477-28.839  c3.928-9.377,13.43-15.673,23.65-15.673l1.43,0.038c3.318,0.269,6.367-2.286,6.768-5.671  C231.476,120.379,231.487,111.537,230.505,102.78z M115.616,182.27c-36.813,0-66.654-29.841-66.654-66.653  s29.842-66.653,66.654-66.653s66.654,29.841,66.654,66.653c0,12.495-3.445,24.182-9.428,34.176l-29.186-29.187  c2.113-4.982,3.229-10.383,3.228-15.957c0-10.915-4.251-21.176-11.97-28.893c-7.717-7.717-17.978-11.967-28.891-11.967  c-3.642,0-7.267,0.484-10.774,1.439c-1.536,0.419-2.792,1.685-3.201,3.224c-0.418,1.574,0.053,3.187,1.283,4.418  c0,0,14.409,14.52,19.23,19.34c0.505,0.505,0.504,1.71,0.433,2.144l-0.045,0.317c-0.486,5.3-1.423,11.662-2.196,14.107  c-0.104,0.103-0.202,0.19-0.308,0.296c-0.111,0.111-0.213,0.218-0.32,0.328c-2.477,0.795-8.937,1.743-14.321,2.225l0.001-0.029  l-0.242,0.061c-0.043,0.005-0.123,0.011-0.229,0.011c-0.582,0-1.438-0.163-2.216-0.94c-5.018-5.018-18.862-18.763-18.862-18.763  c-1.242-1.238-2.516-1.498-3.365-1.498c-1.979,0-3.751,1.43-4.309,3.481c-3.811,14.103,0.229,29.273,10.546,39.591  c7.719,7.718,17.981,11.968,28.896,11.968c5.574,0,10.975-1.115,15.956-3.228l29.503,29.503  C141.125,178.412,128.825,182.27,115.616,182.27z"/>
      </svg>
    ),
  },
  */
];

export default function AdminPage() {
  const [password, setPassword] = useState('');
  if (typeof window === 'undefined') {
    return 'loading...';
  }

  const onFormSubmit = (e) => {
    if (password === site.password) {
      localStorage.setItem('key', site.key);
    }
  };

  if (localStorage.getItem('key') !== site.key) {
    return (
      <>
        <Layout>
          <section>
            <Container>
              <Row>
                <form className="form-card" onSubmit={onFormSubmit}>
                  <div className="section-header light-color">
                    <h2 className="section-title">Admin Panel</h2>
                    <p className="section-subtitle">
                      Please login to administer
                    </p>
                  </div>
                  <div className="form-group">
                    <input
                      type="password"
                      name="password"
                      placeholder="password"
                      className="form-control"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                    />
                  </div>
                  <div className="form-group">
                    <button type="submit" className="btn">Войти</button>
                  </div>
                </form>
              </Row>
            </Container>
          </section>
        </Layout>
        <style jsx>
          {`
            section {
              height: calc(100vh - 72px - 72px);
            }
            
            
        .form-group {
            margin-bottom: 1rem;
        }
            
          .section-title {
          width: 100%;
    align-items: end;
    display: flex;
    
              a {
                  margin-left: auto;
    cursor: pointer;
    font-size: 24px;
    height: 100%;
    color: #ff701b;
    display: flex;
    justify-content: center;
              }
          }
          .top-section {
            padding: 40px 0;
          
            background-color: #121212;
            width: 100%;
            min-height: calc(100vh - 72px - 228px);
            @media (max-width: 767px) {
              min-height: calc(100vh - 72px);
            }
          }
              
              
          .form-card {
            width: 100%;
          }
              .section-header {
    margin-bottom: 20px;
}
            .form-card {
           padding: 1.5rem 2rem;
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #121212;
    background-clip: border-box;
    border: 1px solid rgba(0,0,0,0.125);
    border-radius: 0.5rem;
            }
            
        .form-control {
            display: block;
            width: 100%;
            height: calc(1.5em + .75rem + 2px);
            padding: .375rem .75rem;
            font-size: 1.5rem;
            font-weight: 400;
            line-height: 1.5;
            color: #495057;
            background-color:  transparent;
            background-clip: padding-box;
            border: 1px solid  rgba(255,255,255,0.2);
            border-radius: .25rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
        
        
        .btn {
               color: rgba(255,255,255,0.4);
    background-color: transparent;
    border: 1px solid rgba(255,255,255,0.2);
            
            &:hover {
              background-color: rgba(255,255,255,0.8);
               color: rgba(0,0,0,1);
            }
            
            display: inline-block;
            font-weight: 400;
            text-align: center;
            vertical-align: middle;
            user-select: none;
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: .25rem;
            transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
          `}
        </style>
      </>
    );
  }

  return (
    <>
      <Layout>
        <section>
          <Container>
            <div className="section-header light-color">
              <h2 className="section-title">
                Admin Panel
                <a
                  href="/admin"
                  onClick={() => {
                    localStorage.removeItem('key');
                  }}
                >
                  Выйти
                </a>
              </h2>
            </div>
            <div className="admin-links">
              {links.map((link) => (
                <Link key={link.id} href={`/admin/${link.href}`}>
                  <div className="admin-link">
                    <span className="admin-link__caption">{link.caption}</span>
                    <span className="admin-link__icon">{(link.icon)}</span>
                  </div>
                </Link>
              ))}
            </div>
          </Container>
        </section>
      </Layout>
      <style jsx>
        {`
          .section-header {
          
    width: 100%;

          }
        
          .section-title {
          width: 100%;
    align-items: end;
    display: flex;
    
              a {
                  margin-left: auto;
    cursor: pointer;
    font-size: 24px;
    height: 100%;
    color: #ff701b;
    display: flex;
    justify-content: center;
              }
          }
          section {
            display: flex;
            justify-content: center;
            align-items: center;
          
            padding: 40px 0;
          
            background-color: #121212;
            width: 100%;
            min-height: calc(100vh - 72px - 228px);
            @media (max-width: 767px) {
              min-height: calc(100vh - 72px);
            }
          }

          .admin-links {
            display: grid;
            width: 100%;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            grid-gap: 40px;
            align-items: stretch;
          }
          
          .admin-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
          
            background-color: #292929;
            color: #fff;
            
            &:hover {
              box-shadow: 4px 4px 10px #0a0a0a;
              
              .admin-link__icon :global(svg),
              .admin-link__caption{
                 opacity: 0.8;
              }
            }
            
            flex: 1 1 auto;
            padding: 1.5rem;
            height: 200px;
            border-radius: 5px;
            transition: .2s linear all;
            
            &__icon {
              :global(svg) {
                fill: #bfbfbf;
                opacity: 0.5;
            transition: .2s linear all;
              }
            
              display: flex;
              justify-content: center;
              align-items: center;
            
              width: 100px;
              height: 100%;
            }
            
            &__caption {
              width: 100%;
              text-align: center; 
              text-transform: capitalize;
            transition: .2s linear all;
              opacity: 0.5;
              font-size: 1.25rem;
              font-weight: 300;
              line-height: 1.2;
              margin-bottom: 1rem;
            }
          }
        `}
      </style>
    </>
  );
}
